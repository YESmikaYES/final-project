{% extends "master.html" %}

{% block title %}
    Our Cars
{% endblock %}

{% block content %}
<!-- login.html -->
<!-- {% if form.errors %}
<p>Your username and password didn't match. Please try again.</p>
{% endif %} -->

{% if next %}
    {% if user.is_authenticated %}
    <p>Your account doesn't have access to this page. To proceed,
    please login with an account that has access.</p>
    {% else %}
    <p>Please login to see this page.</p>
    {% endif %}
{% endif %}

<div class="flex items-center justify-center h-screen">
    <div class="max-w-md w-full bg-gray-100 p-8 shadow-md rounded-md">
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">Login</h2>
      <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="mb-4">
          <label for="username" class="block text-sm font-medium text-gray-700">{{ form.username.label_tag }}</label>
          <input required type="text" autofocus autocapitalize="none" autocomplete="username" maxlength="150" id="id_username" name="username" class="mt-1 block pl-2 w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        </div>
        {% if form.errors %}
        <div class="mb-4">
          <label for="password" class="block text-sm font-medium text-red-500">{{ form.password.label_tag }}</label>
          <input required type="password" id="id_password" autocomplete="current-password" name="password" style="border-width: thin;" class="border-red-500 block mt-1 w-full pl-2 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500">
          <p class="text-red-500 mt-1 block w-full">Password does not match username</p>
        </div>
        {% else %}
        <div class="mb-4">
            <label for="password" class="block text-sm font-medium">{{ form.password.label_tag }}</label>
            <input required type="password" id="id_password" autocomplete="current-password" name="password" class="mt-1 block w-full pl-2 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
        </div>
        {% endif %}
        <div class="flex justify-between">
          <input type="submit" value="login" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:bg-blue-600">
          <input type="hidden" name="next" value="{{ next }}">
          <button type="button" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:bg-gray-400">Forgot password?</button>
        </div>
        <br />
        <p class="text-sm text-gray-600">Don't have an Account? <a href="{% url 'signup' %}" class="text-blue-500 hover:underline">Sign Up</a></p>
      </form>
    </div>
  </div>
  

{# Assumes you set up the password_reset view in your URLconf #}
<!-- <p><a>Lost password?</a></p> -->
<!-- href="" -->
{% endblock %}